 <link rel="stylesheet" href="/css/institute/analytics.css">
 <% layout("/layouts/dashboard.ejs") %>

<%
  const stats = [
    { color: "yellow", icon: "üèÖ", value: "12,450", label: "Total Tokens Issued" },
    { color: "purple", icon: "üéñÔ∏è", value: "348", label: "Badges Awarded" },
    { color: "green", icon: "üë•", value: "892", label: "Students Rewarded" },
    { color: "blue", icon: "üìà", value: "+24%", label: "Growth This Month" },
  ];

  const topEarners = [
    { rank: "ü•á 1", name: "Alex Martinez", tokens: 1250, badges: 12, recentReward: "Perfect Attendance - April" },
    { rank: "ü•à 2", name: "John Smith", tokens: 1180, badges: 11, recentReward: "Top Performer - Quiz" },
    { rank: "ü•â 3", name: "Emma Wilson", tokens: 1050, badges: 10, recentReward: "Active Participation" },
    { rank: "4", name: "Michael Davis", tokens: 980, badges: 9, recentReward: "Helpful Peer" },
  ];

  const rewardsList = [
    { name: "Library Access Pass", desc: "Access to premium library resources for 1 month.", points: 300 },
    { name: "Certificate of Excellence", desc: "Official certificate awarded for top performance.", points: 500 },
    { name: "Workshop Entry", desc: "Free entry to a skill development workshop.", points: 400 },
  ];
%>

<div class="container">
  <div class="header-section">
    <h4 class="title">Student Rewards & Recognition</h4>
  </div>

  <!-- Top Cards -->
  <div class="row">
    <% stats.forEach(stat => { %>
      <div class="col">
        <div class="card <%= stat.color %>">
          <div class="card-body">
            <div class="icon"><%= stat.icon %></div>
            <h5 class="value"><%= stat.value %></h5>
            <p class="label"><%= stat.label %></p>
          </div>
        </div>
      </div>
    <% }) %>
  </div>

  <!-- Top Reward Earners -->
  <div class="card-section">
    <div class="card-header">
      <h5 class="heading">Top Reward Earners</h5>
      <button class="btn btn-primary">üèÜ Add Reward Earner</button>
    </div>
    <div class="card-body">
      <table class="styled-table">
        <thead>
          <tr>
            <th>Rank</th>
            <th>Student</th>
            <th>Tokens</th>
            <th>Badges</th>
            <th>Recent Reward</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% topEarners.forEach(student => { %>
            <tr>
              <td><%= student.rank %></td>
              <td><%= student.name %></td>
              <td><span class="badge yellow"><%= student.tokens %></span></td>
              <td><span class="badge purple"><%= student.badges %></span></td>
              <td><%= student.recentReward %></td>
              <td><a href="#" class="link">View Details</a></td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Available Rewards -->
  <div class="card-section">
    <div class="card-header">
      <h5 class="heading">Available Rewards</h5>
      <button class="btn btn-success">üéÅ Add Reward</button>
    </div>
    <div class="card-body">
      <table class="styled-table">
        <thead>
          <tr>
            <th>Reward Name</th>
            <th>Description</th>
            <th>Tokens Required</th>
            <th>Access</th>
          </tr>
        </thead>
        <tbody>
          <% rewardsList.forEach(reward => { %>
            <tr>
              <td><%= reward.name %></td>
              <td><%= reward.desc %></td>
              <td><span class="badge green"><%= reward.points %></span></td>
              <td><button class="btn btn-outline">Access</button></td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    </div>
  </div>
</div>
