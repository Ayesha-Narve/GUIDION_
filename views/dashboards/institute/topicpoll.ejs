<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TopicTalks</title>
  <link rel="stylesheet" href="/css/stud_detail.css">
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
</head>
<body>
  <div class="poll-container">
    <header>
      <h1><i class="fa-solid fa-clipboard-list"></i> Topic Poll</h1>
   <a href="/stud_detail" class="back-btn"><i class="fa-solid fa-arrow-left"></i>Back</a>
     </header>
 <p>Select your department and add a topic of your choice for the lecturer.</p>
 <br>
    <!-- Department Selection -->
    <section class="department-section">
      <label for="department">Choose Department:</label>
      <select id="department">
        <option value="">-- Select Department --</option>
        <option value="Computer Science">Computer Science</option>
        <option value="Information Technology">Information Technology</option>
        <option value="Data Science">Data Science</option>
        <option value="Artificial Intelligence">Artificial Intelligence</option>
        <option value="Machine Learning">Machine Learning</option>
        <option value="Cyber Security">Cyber Security</option>
      </select>
    </section>

    <!-- Add Topic Section -->
    <section class="add-topic-section">
      <h2>Add Your Own Topic (For Lecturer)</h2>
      <div class="add-topic-box">
        <input type="text" placeholder="Enter topic name here...">
        <button><i class="fa-solid fa-plus"></i> Add</button>
      </div>
    </section>

    <!-- Student Responses -->
    <section class="response-section">
      <h2>Students' Topic Responses</h2>
      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th>Sr. No</th>
              <th>Student Name</th>
              <th>Department</th>
              <th>Selected Topics</th>
            </tr>
          </thead>
          <tbody>
            <% 
              // If students variable is not passed from server, define it here
              const studentList = typeof students !== 'undefined' ? students : [
                { name: 'Sakshi', department: 'Computer Science', topics: ['Web Development', 'Artificial Intelligence', 'Cloud Computing'] },
                { name: 'Ananya', department: 'Information Technology', topics: ['Cyber Security', 'Data Science'] },
                { name: 'Rahul', department: 'Data Science', topics: ['Machine Learning', 'Neural Networks'] },
                { name: 'Vikas', department: 'Cyber Security', topics: ['Ethical Hacking', 'Network Security'] },
                { name: 'Priya', department: 'Artificial Intelligence', topics: ['Deep Learning', 'Image Recognition'] }
              ];
            %>

            <% studentList.forEach((student, index) => { %>
              <tr>
                <td><%= index + 1 %></td>
                <td><%= student.name %></td>
                <td><%= student.department %></td>
                <td><%= student.topics.join(", ") %></td>
              </tr>
            <% }) %>
          </tbody>
        </table>
      </div>
    </section>
  </div>
</body>
</html>
